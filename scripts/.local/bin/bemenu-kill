#!/bin/sh
set -eo pipefail

processes=$(ps -u $(whoami) -o pid,args | awk '{print $1, $2}' | sed 's|\([0-9]\+\) .*/|\1 |' | tail -n +2 )
process_chosen=$(echo "$processes" | bemenu -p 'Select a process to kill')
process_pid=$(echo "$process_chosen" | awk '{print $2}')
kill -9 "$process_pid"
