#!/bin/sh
# TODO: fix bug with infinite loop when there's only one album in the queue

current_album="$(mpc current --format "%album%")"

while true; do
    mpc next >/dev/null || exit 1
    new_album="$(mpc current --format "%album%")"
    [ "$new_album" != "$current_album" ] && break
done
